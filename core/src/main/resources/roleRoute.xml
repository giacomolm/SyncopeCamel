<!--
            CREATE ROLE
        -->
        
        <route id="createRole">
          <from uri="direct:createRole"/>
          <setProperty propertyName="subject">
            <simple>${body}</simple>
          </setProperty>
          <doTry>
            <bean ref="rwfAdapter" method="create(${body})"/>
            <process ref="defaultRoleCreatePropagation" />
            <to uri="direct:createRolePort"/>
            <doCatch>        
                <exception>java.lang.RuntimeException</exception>
                <handled>
                    <constant>false</constant>
                </handled>
                <to uri="direct:createRolePort"/>
            </doCatch>
          </doTry>
        </route> 
               
        <!--
            CREATE ROLE SYNC
        -->
        <route id="createRoleSync">
          <from uri="direct:createRoleSync"/>
          <setProperty propertyName="subject">
            <simple>${body}</simple>
          </setProperty>
          <doTry>
            <bean ref="rwfAdapter" method="create(${body})"/>
            <process ref="defaultRoleCreateSyncPropagation" />
            <to uri="direct:createRoleSyncPort"/>
            <doCatch>        
                <exception>java.lang.RuntimeException</exception>
                <handled>
                    <constant>false</constant>
                </handled>
                <to uri="direct:createRoleSyncPort"/>
            </doCatch>
          </doTry>
        </route> 
        
         
        <!--
            UPDATE ROLE
        -->
        <route id="updateRole">
            <from uri="direct:updateRole"/>
            <setProperty propertyName="subjectMod">
                <simple>${body}</simple>
            </setProperty>
            <doTry>
              <bean ref="rwfAdapter" method="update(${body})"/>
              <process ref="defaultRoleUpdatePropagation" />
              <to uri="direct:updateRolePort"/>
              <doCatch>        
                  <exception>java.lang.RuntimeException</exception>
                  <handled>
                      <constant>false</constant>
                  </handled>
                  <to uri="direct:updateRolePort"/>
              </doCatch>
            </doTry>
        </route>
               
        <!--
            DELETE ROLE
        -->
        <route id="deleteRole">
            <from uri="direct:deleteRole"/>
            <doTry>
              <process ref="defaultRoleDeletePropagation" />
              <bean ref="rwfAdapter" method="delete(${body})"/>
              <setBody>
                  <simple>${property.statuses}</simple>
              </setBody>
              <to uri="direct:deleteRolePort"/>
              <doCatch>        
                  <exception>java.lang.RuntimeException</exception>
                  <handled>
                      <constant>false</constant>
                  </handled>
                  <to uri="direct:deleteRolePort"/>
              </doCatch>
            </doTry>
        </route>
        
        <!-- 
            UNLINK USER
        -->
        <route id="unlinkRole">
            <from uri="direct:unlinkRole"/>
            <doTry>
                <bean ref="rwfAdapter" method="update(${body})"/>
                <setBody>
                   <simple>${body.getResult}</simple>
                </setBody>
                <to uri="direct:unlinkRolePort"/>
                <doCatch>        
                    <exception>java.lang.RuntimeException</exception>
                    <handled>
                        <constant>false</constant>
                    </handled>
                    <to uri="direct:unlinkRolePort"/>
                </doCatch>
            </doTry>            
        </route>
        
        <!--
            LINK USER
        -->
        
        <route id="linkRole">
            <from uri="direct:linkRole"/>
            <doTry>
                <bean ref="rwfAdapter" method="update(${body})"/>
                <setBody>
                   <simple>${body.getResult}</simple>
                </setBody>
                <to uri="direct:linkRolePort"/>
                <doCatch>        
                    <exception>java.lang.RuntimeException</exception>
                    <handled>
                        <constant>false</constant>
                    </handled>
                    <to uri="direct:linkRolePort"/>
                </doCatch>
            </doTry>            
        </route>
        
        <!--
            DEPROVISION ROLE
        -->
        <route id="deprovisionRole">
            <from uri="direct:deprovisionRole"/>            
              <process ref="defaultRoleDeprovisionPropagation" />
              <to uri="direct:deprovisionRolePort"/>              
        </route>
        
